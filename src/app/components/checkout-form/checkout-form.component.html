<h2>Checkout</h2>
<form [formGroup]="form" (ngSubmit)="checkout()">
  <div class="mb-3">
    <label class="form-label" for="fullName">Full name</label>
    <input
      class="form-control"
      id="fullName"
      name="fullName"
      formControlName="fullName"
      type="text"
      placeholder="(minimum 3 characters)"
    />
    <div
      *ngIf="form.controls.fullName.touched && form.controls.fullName.invalid"
    >
      <p *ngIf="form.controls.fullName.errors?.['required']">
        Full name is required
      </p>
      <p *ngIf="form.controls.fullName.errors?.['minlength']">
        Full name should be at least 3 charcaters
      </p>
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label" for="address">Address</label>
    <input
      class="form-control"
      id="address"
      name="address"
      formControlName="address"
      type="text"
      placeholder="(minimum 6 characters)"
    />
    <div *ngIf="form.controls.address.touched && form.controls.address.invalid">
      <p *ngIf="form.controls.address.errors?.['required']">
        Address is required
      </p>
      <p *ngIf="form.controls.address.errors?.['minlength']">
        Address should be at least 6 charcaters
      </p>
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label" for="cardNumber">Credit card number</label>
    <input
      class="form-control"
      id="cardNumber"
      name="cardNumber"
      formControlName="cardNumber"
      type="text"
      placeholder="(16-digit number)"
    />
    <div
      *ngIf="
        form.controls.cardNumber.touched && form.controls.cardNumber.invalid
      "
    >
      <p *ngIf="form.controls.cardNumber.errors?.['required']">
        Credit card number is required
      </p>
      <p
        *ngIf="form.controls.cardNumber.errors?.['minlength'] || form.controls.cardNumber.errors?.['maxlength']"
      >
        Credit card number should be 16 charcaters
      </p>
      <p
        *ngIf="form.controls.cardNumber.errors?.['pattern'] || form.controls.cardNumber.errors?.['pattern']"
      >
        Credit card number should contain numbers only
      </p>
    </div>
  </div>
  <p class="text-black-50">
    We'll never share your payment details with anyone else
  </p>
  <button
    type="submit"
    [disabled]="!form.valid"
    class="btn btn-primary w-100 mt-1"
  >
    Checkout
  </button>
  <p class="text-reset">You will pay {{ price | currency: "USD" }}</p>
</form>
